String
  = "\"" text:TextUntilDoubleStringTerminator "\"" { return text.join(""); }
  / "'" text:TextUntilSingleStringTerminator "'" { return text.join(""); }

TextUntilDoubleStringTerminator
  = x:(&HaveDoubleStringTerminatorAhead !HaveDoubleStringTerminatorNext .)* { return x.map(y => y[2]) }

HaveDoubleStringTerminatorAhead
  = . (!"\"" .)* "\""

HaveDoubleStringTerminatorNext
 = "\""

TextUntilSingleStringTerminator
  = x:(&HaveSingleStringTerminatorAhead !HaveSingleStringTerminatorNext .)* { return x.map(y => y[2]) }

HaveSingleStringTerminatorAhead
  = . (!"'" .)* "'"

HaveSingleStringTerminatorNext
 = "'"
